2025-10-27 22:43:49,693 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:43:49,776 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:49:04,295 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-27 22:49:06,957 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:49:07,018 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:50:46,291 - app.core.logging - INFO - Processing query cba5f801-d4cc-4a84-a294-ff11d96cf846: Analyze the impact of rainfall on rice production ...
2025-10-27 22:50:46,292 - app.core.logging - INFO - Attempting to fetch data for resource: crop_production. This is mocked in POC.
2025-10-27 22:50:58,309 - app.core.logging - ERROR - Error generating insights: 
  No API_KEY or ADC found. Please either:
    - Set the `GOOGLE_API_KEY` environment variable.
    - Manually pass the key with `genai.configure(api_key=my_api_key)`.
    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.
2025-10-27 22:53:54,980 - app.core.logging - INFO - Processing query f6bea2ae-d618-46fe-bf3e-2d11cdc798c8: Analyze the impact of rainfall on rice production ...
2025-10-27 22:53:54,981 - app.core.logging - INFO - Attempting to fetch data for resource: crop_production. This is mocked in POC.
2025-10-27 22:54:07,194 - app.core.logging - ERROR - Error generating insights: 
  No API_KEY or ADC found. Please either:
    - Set the `GOOGLE_API_KEY` environment variable.
    - Manually pass the key with `genai.configure(api_key=my_api_key)`.
    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.
2025-10-27 22:54:29,844 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-27 22:54:32,282 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:54:32,336 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:55:05,166 - app.core.logging - INFO - Processing query 90db3a94-c2ba-4513-ae59-3ea2a258fd4a: Analyze the impact of rainfall on rice production ...
2025-10-27 22:55:05,167 - app.core.logging - INFO - Attempting to fetch data for resource: crop_production. This is mocked in POC.
2025-10-27 22:55:44,785 - app.core.logging - INFO - Generated insights for query: Analyze the impact of rainfall on rice production ...
2025-10-27 22:55:45,231 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-27 22:55:49,940 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:55:49,996 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:55:51,183 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-27 22:55:53,490 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:55:53,546 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:56:10,383 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-27 22:56:12,745 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:56:12,801 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:56:26,076 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-27 22:56:35,626 - app.core.logging - INFO - AI Service initialized successfully
2025-10-27 22:56:35,680 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-27 22:56:46,387 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-28 16:46:49,335 - app.core.logging - INFO - AI Service initialized successfully
2025-10-28 16:48:55,794 - app.core.logging - INFO - AI Service initialized successfully
2025-10-28 16:49:29,630 - app.core.logging - INFO - AI Service initialized successfully
2025-10-28 16:49:31,888 - app.core.logging - INFO - AI Service initialized successfully
2025-10-28 16:49:31,941 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-28 16:51:34,805 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-28 16:51:37,457 - app.core.logging - INFO - AI Service initialized successfully
2025-10-28 16:51:37,530 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-28 16:52:31,354 - app.core.logging - INFO - Processing query 127bf6d7-37a4-4764-92d7-948c9f9a569b: stringstri...
2025-10-28 16:52:31,354 - app.core.logging - INFO - Attempting to fetch data for resource: crop_production. This is mocked in POC.
2025-10-28 16:52:31,694 - app.core.logging - ERROR - Error generating insights: 404 models/gemini-flash-2.5 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-10-28 23:56:43,237 - app.core.logging - INFO - AI Service initialized successfully
2025-10-28 23:56:43,324 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:09:33,413 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:09:33,440 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:09:39,062 - app.core.logging - ERROR - Error setting up PostgreSQL database: (psycopg2.OperationalError) could not translate host name "42@localhost" to address: Non-recoverable failure in name resolution

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-29 10:09:39,062 - app.core.logging - ERROR - Failed to load PostgreSQL mock database. Check connection settings.
2025-10-29 10:19:42,277 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:19:47,465 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:19:47,484 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:19:47,574 - app.core.logging - ERROR - Error setting up PostgreSQL database: (psycopg2.OperationalError) could not translate host name "42@localhost" to address: Non-recoverable failure in name resolution

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-29 10:19:47,575 - app.core.logging - ERROR - Failed to load PostgreSQL mock database. Check connection settings.
2025-10-29 10:25:42,975 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:25:48,365 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:25:48,384 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:25:48,930 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:25:48,930 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 10:27:30,701 - app.core.logging - INFO - Processing query a9eb2397-c3db-4a87-b8ce-69c7d892867d: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:27:30,701 - app.core.logging - ERROR - Error processing query a9eb2397-c3db-4a87-b8ce-69c7d892867d: module 'google.generativeai' has no attribute 'Client'
2025-10-29 10:27:30,702 - app.core.logging - ERROR - Error executing query: module 'google.generativeai' has no attribute 'Client'
2025-10-29 10:30:56,333 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:31:01,413 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:31:01,434 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:31:01,830 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:31:01,831 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 10:31:03,835 - app.core.logging - INFO - Processing query a750612d-2f11-4325-9d59-e105ed619c1c: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:31:03,836 - app.core.logging - ERROR - Error processing query a750612d-2f11-4325-9d59-e105ed619c1c: module 'google.generativeai' has no attribute 'Client'
2025-10-29 10:31:03,836 - app.core.logging - ERROR - Error executing query: module 'google.generativeai' has no attribute 'Client'
2025-10-29 10:32:02,721 - app.core.logging - INFO - Processing query f4c6288a-2a76-4088-9426-d2be1743492a: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:32:02,722 - app.core.logging - ERROR - Error processing query f4c6288a-2a76-4088-9426-d2be1743492a: module 'google.generativeai' has no attribute 'Client'
2025-10-29 10:32:02,722 - app.core.logging - ERROR - Error executing query: module 'google.generativeai' has no attribute 'Client'
2025-10-29 10:35:18,614 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:35:22,462 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:35:22,483 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:35:22,863 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:35:22,864 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 10:36:47,239 - app.core.logging - INFO - Processing query f416f6c3-9e5d-4f07-a017-34968d032f8a: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:36:47,239 - app.core.logging - ERROR - Error processing query f416f6c3-9e5d-4f07-a017-34968d032f8a: module 'google.generativeai.types' has no attribute 'Content'
2025-10-29 10:36:47,240 - app.core.logging - ERROR - Error executing query: module 'google.generativeai.types' has no attribute 'Content'
2025-10-29 10:37:28,900 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:37:33,013 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:37:33,034 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:37:33,408 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:37:33,409 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 10:37:45,419 - app.core.logging - INFO - Processing query a8b2f4be-d7c0-4c83-aba8-c0ac1820c80d: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:37:45,420 - app.core.logging - ERROR - Error during agent execution: GenerationConfig.__init__() got an unexpected keyword argument 'system_instruction'
Traceback (most recent call last):
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\app\services\ai_service.py", line 38, in generate_insights
    generation_config=genai.types.GenerationConfig(
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        system_instruction=system_instruction
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ),
    ^
TypeError: GenerationConfig.__init__() got an unexpected keyword argument 'system_instruction'
2025-10-29 10:38:39,741 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:38:43,604 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-flash-2.5
2025-10-29 10:38:43,625 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:38:44,104 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:38:44,104 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 10:39:16,695 - app.core.logging - INFO - Processing query 53a97146-d00d-4d51-b97e-ffc96c0cff1c: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:39:17,247 - app.core.logging - ERROR - Error during agent execution: 404 models/gemini-flash-2.5 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\app\services\ai_service.py", line 43, in generate_insights
    response = self.model.generate_content(
        query,
    ...<4 lines>...
        )
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-flash-2.5 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-10-29 10:40:18,319 - app.core.logging - INFO - Processing query ac521933-9fec-419c-9d20-b56079be68c2: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:40:18,503 - app.core.logging - ERROR - Error during agent execution: 404 models/gemini-flash-2.5 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\app\services\ai_service.py", line 43, in generate_insights
    response = self.model.generate_content(
        query,
    ...<4 lines>...
        )
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-flash-2.5 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-10-29 10:40:24,649 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:40:31,605 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-2.5-flash
2025-10-29 10:40:31,625 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:40:31,986 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:40:31,987 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 10:41:19,759 - app.core.logging - INFO - Processing query 1c1c3aea-234e-4d12-bda2-c3da1d921a46: Analyze the production trend of Rice in Bihar acro...
2025-10-29 10:41:21,705 - app.core.logging - INFO - Generated insights for query: Analyze the production trend of Rice in Bihar across the yea...
2025-10-29 10:41:21,706 - app.core.logging - ERROR - Error during agent execution: Could not convert `part.function_call` to text.
Traceback (most recent call last):
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\app\services\ai_service.py", line 75, in generate_insights
    return getattr(response, "text", "No insights generated.")
  File "C:\Users\bhawu\Documents\GitHub\project-samarth-dev\samarth-backend\samarth-venv\Lib\site-packages\google\generativeai\types\generation_types.py", line 536, in text
    raise ValueError(f"Could not convert `part.{part_type}` to text.")
ValueError: Could not convert `part.function_call` to text.
2025-10-29 10:47:57,601 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 10:48:01,388 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-2.5-flash
2025-10-29 10:48:01,396 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 10:48:01,551 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 10:48:01,551 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 12:16:19,664 - app.core.logging - INFO - Shutting down Project Samarth API...
2025-10-29 12:16:25,734 - app.core.logging - INFO - AI Service initialized successfully with model: gemini-2.5-flash
2025-10-29 12:16:25,761 - app.core.logging - INFO - Starting Project Samarth API...
2025-10-29 12:16:26,283 - app.core.logging - INFO - PostgreSQL table 'agri_climate_data' loaded with 14 mock records.
2025-10-29 12:16:26,284 - app.core.logging - INFO - PostgreSQL Mock Database loaded successfully.
2025-10-29 12:16:38,148 - app.core.logging - INFO - Processing query b2b7dad1-68da-4aa3-8771-a691cc48ce6a: Analyze the production trend of Rice in Bihar acro...
2025-10-29 12:16:41,100 - app.core.logging - INFO - Generated insights for query: Analyze the production trend of Rice in Bihar across the yea...
